// =============================================================================
// PHASE 3 — INFRASTRUCTURE & TOOLING
// =============================================================================
// Wallets, oracles, RPC providers, indexers, bridges, restaking, MEV,
// and decentralized storage.
//
// ADD HERE: new wallet solutions, oracle networks, RPC providers, bridge
// protocols, MEV infrastructure, or storage networks.
// =============================================================================

import { CryptoNodeData } from '../types';

export const infrastructureNodes: CryptoNodeData[] = [

  // ── TOP-LEVEL ────────────────────────────────────────────────────────────────

  {
    id: 'infrastructure',
    parentId: 'root',
    label: 'Infrastructure & Tooling',
    description: 'Developer tools and services for building and interacting with blockchains',
    category: 'infra',
    dependencies: ['root'],
    shortOverview: 'The middleware, services, and tools that make blockchains usable for developers and end-users.',
    deepInsight: 'While protocols (L1s/L2s) provide the foundation, infrastructure provides the usability. This includes everything from how users manage keys (Wallets) to how dApps read data (RPCs/Indexers), how smart contracts get real-world data (Oracles), how value moves across chains (Bridges), and how block proposers decide transaction ordering (MEV).',
  },

  // ── WALLETS ──────────────────────────────────────────────────────────────────

  {
    id: 'wallets',
    parentId: 'infrastructure',
    label: 'Wallets',
    description: 'Key management and transaction signing interfaces',
    category: 'infra',
    dependencies: ['infrastructure'],
    shortOverview: 'Software or hardware that stores private keys and interacts with blockchains.',
    deepInsight: 'A crypto wallet does not "store" coins; coins live on the blockchain. The wallet stores the Private Key needed to sign transactions that move those coins. If you lose the key, you lose control of the funds forever. Wallets are evolving from simple key managers to full financial interfaces with transaction simulation, phishing detection, and gasless UX.',
  },
  {
    id: 'eoa-wallets',
    parentId: 'wallets',
    label: 'EOA Wallets',
    description: 'Externally Owned Accounts controlled by private keys (seed phrases)',
    category: 'infra',
    dependencies: ['wallets'],
    shortOverview: 'The traditional type of Ethereum account, controlled by a private key (seed phrase).',
    deepInsight: 'EOAs are simple: 1 Private Key = 1 Account. They initiate all transactions. However, they are inflexible: if you lose the key, it\'s game over. They cannot have custom logic (like daily spend limits) because they are not smart contracts. Every on-chain action requires an ETH balance for gas.',
  },
  {
    id: 'metamask',
    parentId: 'eoa-wallets',
    label: 'MetaMask',
    description: 'Browser extension wallet supporting EVM chains with Snaps extensibility',
    category: 'player',
    dependencies: ['eoa-wallets'],
    shortOverview: 'The world\'s most popular non-custodial wallet, standardizing the connection between browsers and the Ethereum blockchain.',
    deepInsight: 'MetaMask injected the "window.ethereum" object into browsers, creating the standard for dApp connectivity. With "Snaps", it is evolving into a platform where developers can add support for non-EVM chains (like Bitcoin or Solana) directly into the wallet. It handles 30M+ monthly active users.',
  },
  {
    id: 'phantom',
    parentId: 'eoa-wallets',
    label: 'Phantom',
    description: 'Multi-chain wallet with native Solana, Bitcoin, and EVM support',
    category: 'player',
    dependencies: ['eoa-wallets'],
    shortOverview: 'The leading wallet for Solana, known for superior UX, which has now expanded to support Bitcoin and Ethereum.',
    deepInsight: 'Phantom set a new standard for wallet UX with features like NFT visualization, staking integration, and transaction simulation (warning you if a transaction looks malicious) directly in the interface. It is the primary on-ramp for Solana\'s DeFi and NFT ecosystem.',
  },
  {
    id: 'rabby',
    parentId: 'eoa-wallets',
    label: 'Rabby',
    description: 'Multi-chain wallet with pre-transaction simulation and risk detection',
    category: 'player',
    dependencies: ['eoa-wallets'],
    shortOverview: 'A security-focused wallet built by the DeBank team, designed to protect users from signing bad transactions.',
    deepInsight: 'Rabby automatically switches chains (no manual network adding) and simulates every transaction before you sign it, showing you exactly what the balance change will be. This prevents many common phishing attacks. It has become the wallet of choice for power users who interact with many protocols.',
  },
  {
    id: 'smart-contract-wallets',
    parentId: 'wallets',
    label: 'Smart Contract Wallets',
    description: 'Programmable accounts with social recovery and session keys (Account Abstraction)',
    category: 'infra',
    dependencies: ['wallets'],
    shortOverview: 'Wallets that are actually smart contracts on the blockchain, enabling programmable ownership rules.',
    deepInsight: 'This is "Account Abstraction". Because the wallet is code, it can do anything: require 2-of-3 signatures (Multisig), allow "Social Recovery" (friends help you regain access if you lose keys), pay gas for you (Paymaster), or execute batched transactions. ERC-4337 standardized how these wallets interact with the Ethereum mempool without changes to the L1 protocol.',
  },
  {
    id: 'account-abstraction',
    parentId: 'smart-contract-wallets',
    label: 'Account Abstraction (ERC-4337)',
    description: 'Standard for smart contract accounts with bundlers, paymasters, and user operations',
    category: 'infra',
    dependencies: ['smart-contract-wallets'],
    shortOverview: 'The Ethereum standard that makes every account a programmable smart contract without changing the L1 protocol.',
    deepInsight: 'ERC-4337 introduces "UserOperations" (intent-based transactions), "Bundlers" (who pack UserOps into real transactions), and "Paymasters" (who sponsor gas for users). This decouples transaction signing from gas payment, enabling gasless UX, social login, session keys, and batch transactions. It\'s the foundation for mainstream crypto adoption because users never need to understand gas.',
  },
  {
    id: 'safe',
    parentId: 'smart-contract-wallets',
    label: 'Safe (Gnosis Safe)',
    description: 'Multi-signature smart contract wallet with modular architecture',
    category: 'player',
    dependencies: ['smart-contract-wallets'],
    shortOverview: 'The industry standard for secure fund management, requiring multiple approvals to execute transactions.',
    deepInsight: 'Safe holds >$100B in assets. It is widely used by DAOs and companies. It allows for "Modules", which can add advanced logic like "allowance for specific team members" or "automatic recurring payments". Its modular architecture makes it the go-to for institutional treasury management.',
  },
  {
    id: 'argent',
    parentId: 'smart-contract-wallets',
    label: 'Argent',
    description: 'Mobile-first smart wallet with guardians and gasless transactions on zkSync',
    category: 'player',
    dependencies: ['smart-contract-wallets'],
    shortOverview: 'A pioneer in mobile smart wallets, focusing on removing the complexity of seed phrases.',
    deepInsight: 'Argent introduced "Guardians" — trusted people or devices that can help you recover your wallet without a seed phrase. It was one of the first to heavily utilize zkSync for low-fee transactions and native Account Abstraction.',
  },
  {
    id: 'pimlico',
    parentId: 'account-abstraction',
    label: 'Pimlico',
    description: 'ERC-4337 bundler and paymaster infrastructure for account abstraction apps',
    category: 'player',
    dependencies: ['account-abstraction'],
    shortOverview: 'The leading bundler and paymaster-as-a-service for ERC-4337 account abstraction.',
    deepInsight: 'Building with Account Abstraction requires reliable bundler infrastructure (to relay UserOperations) and paymaster services (to sponsor gas). Pimlico provides both as an API, letting developers integrate gasless UX with a few lines of code. It supports 30+ chains and processes millions of UserOps monthly.',
  },
  {
    id: 'embedded-wallets',
    parentId: 'wallets',
    label: 'Embedded Wallets',
    description: 'Application-embedded wallets abstracting key management behind social login',
    category: 'infra',
    dependencies: ['wallets'],
    shortOverview: 'Wallet infrastructure that sits inside an app, often invisible to the user — login with email, get a wallet.',
    deepInsight: 'For mass adoption, users shouldn\'t know they are using a wallet. Embedded wallets allow users to login with Email or Google (Web2 style) while a wallet is created in the background. Technologies like MPC (Multi-Party Computation) or TEEs split the key so the user technically has self-custody without managing a seed phrase.',
  },
  {
    id: 'privy',
    parentId: 'embedded-wallets',
    label: 'Privy',
    description: 'Embedded wallet SDK with social login and progressive custody',
    category: 'player',
    dependencies: ['embedded-wallets'],
    shortOverview: 'The leading SDK for consumer crypto apps (used by Friend.tech, Zora), offering seamless onboarding.',
    deepInsight: 'Privy allows apps to onboard users via SMS/Email/Socials immediately, creating an embedded wallet. Later, users can export this wallet or link their main wallet (MetaMask). This "Progressive Onboarding" drastically improves conversion rates for apps that need to ease users into self-custody.',
  },
  {
    id: 'dynamic',
    parentId: 'embedded-wallets',
    label: 'Dynamic',
    description: 'Wallet connection and embedded wallet solution with enterprise-grade smart wallet support',
    category: 'player',
    dependencies: ['embedded-wallets'],
    shortOverview: 'A powerful multi-wallet login solution that handles both traditional wallets and embedded email-based wallets.',
    deepInsight: 'Dynamic provides a unified interface for all auth methods. It abstracts the complexity of multiple chains and wallet standards, allowing developers to just ask for "Sign in" and get a user account back. It has strong enterprise adoption for companies building cross-chain applications.',
  },

  // ── ORACLES ──────────────────────────────────────────────────────────────────

  {
    id: 'oracles',
    parentId: 'infrastructure',
    label: 'Oracles',
    description: 'Off-chain data feeds bringing real-world information on-chain',
    category: 'infra',
    dependencies: ['infrastructure'],
    shortOverview: 'Services that verify real-world data (like stock prices or weather) and submit it to the blockchain for smart contracts to use.',
    deepInsight: 'Blockchains are isolated; they can\'t call API requests to the internet. The "Oracle Problem" is: how do you get off-chain data on-chain without trusting a single centralized node? Decentralized Oracle Networks (DONs) solve this by aggregating data from many sources and nodes. Oracle failure (stale or manipulated prices) is one of the biggest causes of DeFi exploits.',
  },
  {
    id: 'push-oracles',
    parentId: 'oracles',
    label: 'Push Oracles',
    description: 'Oracles that actively push data updates to smart contracts on-chain at intervals',
    category: 'infra',
    dependencies: ['oracles'],
    shortOverview: 'Oracles that update the blockchain with new data at regular intervals or when thresholds are met.',
    deepInsight: 'Push oracles proactively publish price data on-chain so any contract can read it instantly. This is ideal for composability: lending, perps, and vaults can all rely on the same shared feed. The downside is cost and waste — prices are updated even when no one needs them. Teams must balance freshness, cost, and update cadence carefully.',
  },
  {
    id: 'chainlink',
    parentId: 'push-oracles',
    label: 'Chainlink',
    description: 'Decentralized oracle network for price feeds, VRF, automation, and CCIP bridging',
    category: 'player',
    dependencies: ['push-oracles'],
    shortOverview: 'The industry standard for Oracles, securing tens of billions of dollars in DeFi.',
    deepInsight: 'Chainlink is not just price feeds. It offers VRF (Verifiable Random Function) for provably fair randomness in gaming, Automation (Keepers) for running time-based tasks, and CCIP (Cross-Chain Interoperability Protocol) for secure bridging. It is the foundational plumbing of DeFi across 15+ chains.',
  },
  {
    id: 'api3',
    parentId: 'push-oracles',
    label: 'API3',
    description: 'First-party oracle solution with dAPIs signed directly by data providers',
    category: 'player',
    dependencies: ['push-oracles'],
    shortOverview: 'An oracle provider focused on "First-Party" data — connecting API providers directly to the blockchain.',
    deepInsight: 'Most oracles use third-party nodes to relay data. API3 enables the data source (e.g., a weather station or exchange) to run a lightweight "Airnode" and sign their own data, improving accountability and reducing trust assumptions. dAPIs are managed data feeds that aggregate multiple first-party sources.',
  },
  {
    id: 'pull-oracles',
    parentId: 'oracles',
    label: 'Pull Oracles',
    description: 'Oracles where contracts pull signed data on-demand from off-chain sources',
    category: 'infra',
    dependencies: ['oracles'],
    shortOverview: 'Oracles where data is stored off-chain and only pushed on-chain when a user needs it for a specific transaction.',
    deepInsight: 'This is "Oracle on Demand". Prices are stored off-chain (signed by the oracle network) and users attach the signed price update alongside their transaction (e.g., to open a leveraged position). This is far cheaper and allows sub-second update frequencies — perfect for high-frequency DeFi on fast chains.',
  },
  {
    id: 'pyth',
    parentId: 'pull-oracles',
    label: 'Pyth Network',
    description: 'Low-latency oracle publishing continuous price updates from institutional market makers',
    category: 'player',
    dependencies: ['pull-oracles'],
    shortOverview: 'The leading low-latency oracle, specializing in high-frequency data for financial markets.',
    deepInsight: 'Pyth gets price data directly from major trading firms (like Jane Street, Jump) and exchanges — first-party sources who have an economic incentive to publish accurate prices. It updates prices every 400ms on Solana and allows other chains to pull these prices. It includes confidence intervals to show price uncertainty.',
  },
  {
    id: 'chronicle',
    parentId: 'pull-oracles',
    label: 'Chronicle Protocol',
    description: 'Pull-based oracle with validator signatures, originally built for MakerDAO',
    category: 'player',
    dependencies: ['pull-oracles'],
    shortOverview: 'The oracle originally built by MakerDAO to secure DAI, now available as a general-purpose protocol.',
    deepInsight: 'Chronicle was built to secure MakerDAO and later opened as a general-purpose oracle. It focuses on pull-based updates and efficient signature aggregation to keep gas costs low while preserving security. That makes it well suited for protocols that only need fresh data at the moment of execution.',
  },

  // ── RPC PROVIDERS ────────────────────────────────────────────────────────────

  {
    id: 'rpc-providers',
    parentId: 'infrastructure',
    label: 'RPC Providers',
    description: 'JSON-RPC endpoints for reading chain state and broadcasting transactions',
    category: 'infra',
    dependencies: ['infrastructure'],
    shortOverview: 'Services that run blockchain nodes and provide an API (URL) for apps to talk to the blockchain.',
    deepInsight: 'Running a blockchain node is hard and expensive. RPC providers (Node-as-a-Service) do it for you. When your MetaMask connects to Ethereum, it\'s actually talking to an RPC provider (like Infura) which talks to the blockchain. The concentration of the ecosystem around a handful of RPC providers creates centralization risk — if Infura goes down, many apps stop working.',
  },
  {
    id: 'alchemy',
    parentId: 'rpc-providers',
    label: 'Alchemy',
    description: 'Enhanced RPC with webhooks, trace APIs, NFT indexing, and simulation',
    category: 'player',
    dependencies: ['rpc-providers'],
    shortOverview: 'Often called the "AWS of Crypto", Alchemy provides a massive suite of developer tools beyond standard RPCs.',
    deepInsight: 'Alchemy is famous for its "Supernode" architecture which ensures high reliability. It offers powerful enhanced APIs for simulating transactions, debugging, and instantly finding all NFTs owned by a user (which is hard with standard RPCs). Their Account Abstraction platform (Account Kit) is widely used for ERC-4337 apps.',
  },
  {
    id: 'infura',
    parentId: 'rpc-providers',
    label: 'Infura',
    description: 'Managed Ethereum and IPFS nodes with layer-2 support by ConsenSys',
    category: 'player',
    dependencies: ['rpc-providers'],
    shortOverview: 'One of the earliest and most widely used RPC providers, owned by ConsenSys.',
    deepInsight: 'Infura powers much of the Ethereum ecosystem (including the default MetaMask backend). Its centrality sparked debates about reliance on centralized infrastructure — when Infura blocked Iranian IPs in 2020, it highlighted how decentralized finance can have centralized chokepoints.',
  },
  {
    id: 'quicknode',
    parentId: 'rpc-providers',
    label: 'QuickNode',
    description: 'Multi-chain RPC provider with marketplace add-ons and dedicated nodes',
    category: 'player',
    dependencies: ['rpc-providers'],
    shortOverview: 'A high-performance RPC provider known for supporting 30+ different chains.',
    deepInsight: 'QuickNode focuses on speed and chain diversity. They offer a marketplace where third-party developers can sell add-ons (like tax reporting tools or NFT metadata) directly integrated into the RPC stream. Strong choice for teams building multi-chain applications.',
  },

  // ── INDEXERS ─────────────────────────────────────────────────────────────────

  {
    id: 'indexers',
    parentId: 'infrastructure',
    label: 'Indexers & Subgraphs',
    description: 'Services for querying and transforming blockchain data into structured databases',
    category: 'infra',
    dependencies: ['infrastructure'],
    shortOverview: 'Tools that organize raw blockchain data into queryable databases — "show me all trades by Alice" instead of reading every block.',
    deepInsight: 'Querying raw blockchain nodes is slow and limited (you can only ask about current state, not history). Indexers listen to every event emitted by a smart contract, decode it, and store it in a SQL/GraphQL database. This allows frontends to load complex user dashboards instantly rather than scanning millions of blocks.',
  },
  {
    id: 'the-graph',
    parentId: 'indexers',
    label: 'The Graph',
    description: 'Decentralized protocol for indexing and GraphQL querying of blockchain data',
    category: 'player',
    dependencies: ['indexers'],
    shortOverview: 'The standard decentralized indexing protocol, often called the "Google of Blockchains".',
    deepInsight: 'Developers build "Subgraphs" (open APIs) that define how to index a specific contract. A decentralized network of Indexers then processes the data and serves queries. Users pay for queries in GRT tokens. Most major DeFi protocols (Uniswap, Aave, ENS) use The Graph for their frontends.',
  },
  {
    id: 'dune',
    parentId: 'indexers',
    label: 'Dune Analytics',
    description: 'SQL-based blockchain analytics with community-built dashboards and decoded contracts',
    category: 'player',
    dependencies: ['indexers'],
    shortOverview: 'A community-driven analytics platform where anyone can query blockchain data using SQL.',
    deepInsight: 'Dune decodes smart contract data into human-readable SQL tables. Its power comes from the community: thousands of analysts build and share open-source dashboards. If you want to know "OpenSea daily volume" or "Uniswap V3 TVL by pool", you check Dune. It\'s become the standard for on-chain research.',
  },
  {
    id: 'goldsky',
    parentId: 'indexers',
    label: 'Goldsky',
    description: 'Real-time subgraph indexing with mirror pipeline streaming to databases',
    category: 'player',
    dependencies: ['indexers'],
    shortOverview: 'A modern, high-performance indexing service that streams blockchain data directly into your own database.',
    deepInsight: 'Goldsky optimizes for real-time needs. Its "Mirror" feature lets developers pipeline data from a Subgraph directly into their own Postgres database, giving them full control and high performance for backend processing. Popular with teams that need sub-second data freshness for their applications.',
  },

  // ── INTEROPERABILITY & BRIDGES ───────────────────────────────────────────────

  {
    id: 'interoperability',
    parentId: 'infrastructure',
    label: 'Interoperability & Bridges',
    description: 'Protocols for moving assets and messages across different blockchains',
    category: 'infra',
    dependencies: ['infrastructure'],
    shortOverview: 'The technologies that allow different blockchains to talk to each other and exchange assets.',
    deepInsight: 'Blockchains are naturally siloed — Ethereum doesn\'t know what happened on Solana. Interoperability protocols use various mechanisms (Guardian networks, Light Clients, ZK proofs) to prove that something happened on Chain A so that Chain B can react to it. Bridges are also the #1 target for hackers — over $2B was stolen from bridges in 2022 alone.',
  },
  {
    id: 'layerzero',
    parentId: 'interoperability',
    label: 'LayerZero',
    description: 'Omnichain messaging protocol with DVN-based security and OFT token standard',
    category: 'player',
    dependencies: ['interoperability'],
    shortOverview: 'A messaging standard that connects 50+ blockchains, known for its OFT (Omnichain Fungible Token) standard.',
    deepInsight: 'LayerZero is not a bridge itself, but a messaging layer. V2 uses "DVNs" (Decentralized Verifier Networks) — developers choose which DVNs secure their messages. The OFT standard allows tokens to move natively between chains without wrapping, maintaining a unified supply. Used by Stargate, SushiSwap, and hundreds of protocols.',
  },
  {
    id: 'wormhole',
    parentId: 'interoperability',
    label: 'Wormhole',
    description: 'Generic message passing with 19 Guardian network for cross-chain communication',
    category: 'player',
    dependencies: ['interoperability'],
    shortOverview: 'A leading interoperability platform secured by a set of 19 reputable "Guardians".',
    deepInsight: 'Wormhole\'s Guardians observe events on one chain and attest to them with signatures. These attestations (VAAs) can be submitted to any other chain. After a $320M hack in 2022 (later reimbursed by Jump), Wormhole has invested heavily in security. It is widely used in the Solana ecosystem.',
  },
  {
    id: 'axelar',
    parentId: 'interoperability',
    label: 'Axelar',
    description: 'Cross-chain communication using Cosmos SDK PoS validators for decentralized routing',
    category: 'player',
    dependencies: ['interoperability'],
    shortOverview: 'A blockchain specifically built to connect other blockchains — a decentralized routing layer.',
    deepInsight: 'Unlike other bridges that are just smart contracts, Axelar is a full Proof-of-Stake blockchain. Validators on Axelar run light nodes for other chains (like ETH, Avalanche) and vote on the state. This provides a decentralized routing layer. AVM (Axelar Virtual Machine) allows cross-chain smart contract calls.',
  },
  {
    id: 'ccip',
    parentId: 'interoperability',
    label: 'Chainlink CCIP',
    description: 'Cross-chain messaging with programmable token transfers and Risk Management Network',
    category: 'player',
    dependencies: ['interoperability'],
    shortOverview: 'The "SWIFT" of crypto, built by Chainlink, focused on maximum security for institutional transfers.',
    deepInsight: 'CCIP uses multiple Decentralized Oracle Networks to sign messages, plus a separate "Risk Management Network" that monitors for anomalies (like hacks) and can halt the bridge. It enables "Programmable Token Transfers" (move tokens + execute logic on the destination) in one transaction. Adopted by SWIFT and major financial institutions for cross-chain settlements.',
  },
  {
    id: 'hyperlane',
    parentId: 'interoperability',
    label: 'Hyperlane',
    description: 'Permissionless interoperability with modular Interchain Security Modules (ISMs)',
    category: 'player',
    dependencies: ['interoperability'],
    shortOverview: 'A permissionless modular interoperability layer that anyone can deploy to any chain — even a new rollup.',
    deepInsight: 'Hyperlane stands out because you can deploy it to a new Rollup yourself without waiting for the Hyperlane team. It uses "Interchain Security Modules" (ISMs), allowing developers to choose exactly what security model they want — multisig, optimistic, ZK, or combinations. This permissionless nature makes it the go-to for new chain launches.',
  },
  {
    id: 'canonical-bridges',
    parentId: 'interoperability',
    label: 'Canonical Bridges',
    description: 'Native bridges operated by the chain team with same security guarantees as the L1',
    category: 'infra',
    dependencies: ['interoperability'],
    shortOverview: 'The official bridges built by the teams behind Layer 2s — most secure but slowest.',
    deepInsight: 'These are the most secure way to move assets to an L2 because they are enshrined in the protocol. If you use the Optimism Canonical Bridge, your funds are as secure as the Optimism protocol itself. However, they are slow (taking 7 days for Optimistic Rollup withdrawals) and inflexible.',
  },
  {
    id: 'third-party-bridges',
    parentId: 'interoperability',
    label: 'Third-Party Bridges',
    description: 'External bridges using liquidity pools or validator sets for fast cross-chain transfers',
    category: 'infra',
    dependencies: ['interoperability'],
    shortOverview: 'Independent protocols that facilitate fast transfers between chains by fronting liquidity.',
    deepInsight: 'These bridges (like Across, Hop) prioritize speed. They use "Liquidity Pools" on both chains. When you bridge, they give you funds from their pool on the destination chain immediately, and then settle the slow canonical bridge in the background. Faster but introduces additional smart contract and liquidity risk.',
  },
  {
    id: 'hop-protocol',
    parentId: 'third-party-bridges',
    label: 'Hop Protocol',
    description: 'Rollup-to-rollup bridge using AMM-based bonders for fast withdrawals',
    category: 'player',
    dependencies: ['third-party-bridges'],
    shortOverview: 'One of the first bridges to enable fast transfers directly between Rollups.',
    deepInsight: 'Hop uses "Bonders" who front liquidity for users. If you want to go from Optimism to Arbitrum, a Bonder on Arbitrum gives you the money instantly (taking a small fee), while they wait for the slow canonical message to arrive. The hToken mechanism enables same-asset bridging without wrapping.',
  },
  {
    id: 'stargate',
    parentId: 'third-party-bridges',
    label: 'Stargate Finance',
    description: 'Omnichain liquidity transport built on LayerZero with unified cross-chain pools',
    category: 'player',
    dependencies: ['third-party-bridges'],
    shortOverview: 'The first dApp built on LayerZero, solving the "bridging trilemma" with unified liquidity pools.',
    deepInsight: 'Stargate allows for native asset swaps (USDC to USDC) without wrapped tokens. It keeps a single "unified" liquidity pool accessible by all chains, rather than fragmented pools per pair. This ensures guaranteed finality — you always get the asset you expect with no race conditions.',
  },

  // ── RESTAKING ────────────────────────────────────────────────────────────────

  {
    id: 'restaking-infra',
    parentId: 'ethereum-l1',
    label: 'Restaking Infrastructure',
    description: 'Protocols enabling reuse of staked ETH to secure additional services (AVSs)',
    category: 'infra',
    dependencies: ['ethereum-l1'],
    shortOverview: 'A new primitive allowing Ethereum stakers to reuse their capital to secure other protocols.',
    deepInsight: 'Normally, staked ETH only secures Ethereum. Restaking allows you to pledge that same ETH to also secure an Oracle, a Bridge, or a DA layer (called "Actively Validated Services" or AVSs). You gain extra yield but take on extra slashing risk — if the AVS is corrupted or you behave maliciously on it, your ETH can be slashed.',
  },
  {
    id: 'eigenlayer',
    parentId: 'restaking-infra',
    label: 'EigenLayer',
    description: 'Restaking protocol creating a marketplace of pooled Ethereum security for AVSs',
    category: 'player',
    dependencies: ['restaking-infra'],
    shortOverview: 'The pioneer of Restaking, creating a marketplace for "pooled trust".',
    deepInsight: 'EigenLayer connects stakers with "AVSs" (Actively Validated Services). AVSs (like EigenDA, AltLayer) don\'t need to launch their own token to get security; they can "rent" security from Ethereum\'s massive validator set via EigenLayer. This potentially changes the economics of building new blockchain infrastructure.',
  },
  {
    id: 'symbiotic',
    parentId: 'restaking-infra',
    label: 'Symbiotic',
    description: 'Modular restaking protocol accepting any asset as collateral with customizable slashing',
    category: 'player',
    dependencies: ['restaking-infra'],
    shortOverview: 'A permissionless restaking protocol that allows any asset (not just ETH) to secure networks.',
    deepInsight: 'Competitor to EigenLayer. Symbiotic focuses on modularity, allowing networks to define exactly what collateral they accept (could be ENA, UNI, etc.) and what the slashing conditions are. Backed by Lido and Paradigm, it supports a broader range of assets and more flexible network designs.',
  },

  // ── MEV ──────────────────────────────────────────────────────────────────────

  {
    id: 'mev',
    parentId: 'infrastructure',
    label: 'MEV & Block Building',
    description: 'Maximal Extractable Value — profit from ordering transactions within a block',
    category: 'infra',
    dependencies: ['infrastructure'],
    shortOverview: 'The profit validators or block builders can extract by controlling transaction ordering within a block.',
    deepInsight: 'MEV stands for "Maximal Extractable Value" (formerly "Miner" EV). Because block proposers choose which transactions to include and in what order, they can: front-run your trade, sandwich you between buy/sell orders, or arbitrage price differences across DEXs. MEV redistributes value from regular users to sophisticated actors. PBS (Proposer-Builder Separation) is the current approach to making MEV transparent and democratized.',
  },
  {
    id: 'flashbots',
    parentId: 'mev',
    label: 'Flashbots',
    description: 'MEV infrastructure providing MEV-Boost, private mempools, and SUAVE for builders',
    category: 'player',
    dependencies: ['mev'],
    shortOverview: 'The research and development organization that built MEV-Boost — used by 90%+ of Ethereum validators.',
    deepInsight: 'Flashbots created "MEV-Boost", which implements Proposer-Builder Separation on Ethereum. Validators outsource block construction to specialized builders (via a relay), who compete to build the most profitable block. Flashbots also runs SUAVE (Single Unified Auction for Value Expression), a decentralized mempool and block building network. Their work transformed MEV from a dark forest into a transparent marketplace.',
  },

  // ── DECENTRALIZED STORAGE ────────────────────────────────────────────────────

  {
    id: 'decentralized-storage',
    parentId: 'infrastructure',
    label: 'Decentralized Storage',
    description: 'Protocols for storing data in a distributed, censorship-resistant manner',
    category: 'infra',
    dependencies: ['infrastructure'],
    shortOverview: 'Alternatives to AWS S3 and Google Cloud Storage — data stored across many nodes with no central authority.',
    deepInsight: 'NFT metadata, DeFi front-ends, and dApp data often still rely on centralized servers — the "last mile" centralization problem. Decentralized storage networks solve this. There are two models: content-addressed storage (IPFS/Arweave, where the URL is the hash of the data) and incentivized storage markets (Filecoin, where miners are paid to store data long-term).',
  },
  {
    id: 'ipfs',
    parentId: 'decentralized-storage',
    label: 'IPFS',
    description: 'Content-addressed distributed file system using cryptographic hashes as URLs',
    category: 'player',
    dependencies: ['decentralized-storage'],
    shortOverview: 'A peer-to-peer file system where files are addressed by their content hash, not a server location.',
    deepInsight: 'IPFS (InterPlanetary File System) uses content addressing: the URL of a file is the SHA-256 hash of its content. If the content changes, the URL changes — making tampering impossible. Files are replicated across nodes that "pin" them. The challenge is persistence: if no node pins your file, it can disappear. Pinning services like Pinata and NFT.Storage solve this.',
  },
  {
    id: 'arweave',
    parentId: 'decentralized-storage',
    label: 'Arweave',
    description: 'Permanent decentralized storage with one-time payment and proof-of-access mining',
    category: 'player',
    dependencies: ['decentralized-storage'],
    shortOverview: 'Permanent storage for the permaweb — pay once, store forever.',
    deepInsight: 'Arweave\'s "blockweave" structure requires miners to prove they store historical data to mine new blocks (Proof of Access). A one-time payment funds storage in perpetuity from an endowment. AR tokens fund an endowment whose yield covers storage costs as they decrease. The "permaweb" built on Arweave stores NFT metadata, historical blockchain data, and uncensorable websites.',
  },
  {
    id: 'filecoin',
    parentId: 'decentralized-storage',
    label: 'Filecoin',
    description: 'Decentralized storage marketplace with cryptographic proof-of-replication',
    category: 'player',
    dependencies: ['decentralized-storage'],
    shortOverview: 'A decentralized marketplace for storage capacity — Airbnb for hard drives.',
    deepInsight: 'Filecoin creates a marketplace where storage providers rent out spare capacity in exchange for FIL tokens. Cryptographic proofs (Proof of Replication and Proof of Spacetime) verify that data is actually stored. It integrates deeply with IPFS and is used by the Ethereum ecosystem for long-term data availability. io.net and other DePIN compute networks use similar token economic models.',
  },

];
